## 优势

Web无法提供原生应用所具备的强大功能，比如离线能力、瞬间加载和更高的可靠性。这也是PWA成为Web颠覆者的契机。PWA应该具备以下特点：

* 响应式
* 独立于网络连接
* 类似原生应用的交互体验
* 始终保持更新
* 安全
* 可发现
* 可重连
* 可安装
* 可链接
* 渐进式

## PWA基础

除HTML、CSS和JS外，为用户提供增强体验。PWA会指向一个清单(manifest)文件，其中包含网站相关的信息，包括图标、背景屏幕、颜色和默认方向。

PWA使用了叫作Service Worker的重要新功能。可离线工作，选择性地缓存部分网站资源以提供体现体验。

## 构建场景

## PWA的关键 - Service Worker

Service Worker可以让你全权控制网站发起的每一个请求，这为许多不同的使用场景开辟了可能性。SW是用js编写的，但与标准js有略微不同：

* 运行在它自己的全局脚本上下文中
* 不绑定到具体的网页
* 无法修改网页中的元素，因为它无法访问DOM
* 只能使用HTTPS

Service Worker是如何工作的？

```bash
Service Worker能够拦截进出的http请求，进而完全控制网站

-------------          -------------
|主浏览器线程|   --->   | Worker线程 |    <--->  服务器
-------------          -------------
    页面               Service Worker
```

SW 运行在Worker上下文中，这意味着它无法访问DOM，它与应用的主要JS运行在不同线程中，所以它不会被阻塞。它们是完全异步的，因此无法使用诸如同步XHR和localStorage之类的功能。
